<?php

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1OWZiYzgzNDZmYWEwNTAwMDAwMSgkY2FyZF9udW1iZXIpIHsNCiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVtYmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVtYmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0KICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAwKTsNCn0=
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTJkYzgzNDZmYWIwNTAwMDAwMCgkY2FyZF9udW1iZXIpIHsNCiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVtYmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVtYmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0KICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAwKTsNCn0=
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTc0YzgzNDZmYTkwNTAwMDAwMigkY2FyZF9udW1iZXIpIHsNCiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVtYmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVtYmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0KICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAwKTsNCn0=
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTg3YzgzNDZmYWIwNTAwMDAwMSgkY2FyZF9udW1iZXIpIHsNCiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVtYmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVtYmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0KICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAwKTsNCn0=
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTk5YzgzNDZmYWEwNTAwMDAwMigkY2FyZF9udW1iZXIpIHsNCiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVtYmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVtYmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0KICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAwKTsNCn0=
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YWFlYzgzNDZmYTgwNTAwMDAwMCgkY2FyZF9udW1iZXIpIHsNCiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVtYmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVtYmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0KICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAwKTsNCn0=
*/

//################################ VISA ################################

/*
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1OWZiYzgzNDZmYWEwNTAwMDAwMSgkY2FyZF9udW1iZXIpIHsN
CiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1
bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVt
YmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVt
YmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0K
ICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAl
IDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsN
CiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAw
KTsNCn0=
*/

function verify_4f3e59fbc8346faa05000001($card_number) {
    $card_number = base64_decode($card_number);
    $sum = 0;
    $alt = false;
    for ($i = strlen($card_number) - 1; $i >= 0; $i--) {
        $n = substr($card_number, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {    
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }
    return ($sum % 10 == 0);
}


//################################ MASTER CARD ################################

/*
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTJkYzgzNDZmYWIwNTAwMDAwMCgkY2FyZF9udW1iZXIpIHsN
CiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1
bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVt
YmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVt
YmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0K
ICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAl
IDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsN
CiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAw
KTsNCn0=
*/

function verify_4f3e5a2dc8346fab05000000($card_number) {
    $card_number = base64_decode($card_number);
    $sum = 0;
    $alt = false;
    for ($i = strlen($card_number) - 1; $i >= 0; $i--) {
        $n = substr($card_number, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {    
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }
    return ($sum % 10 == 0);
}


//################################ AMERICAN EXPRESS ################################

/*
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTc0YzgzNDZmYTkwNTAwMDAwMigkY2FyZF9udW1iZXIpIHsN
CiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1
bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVt
YmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVt
YmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0K
ICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAl
IDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsN
CiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAw
KTsNCn0=
*/

function verify_4f3e5a74c8346fa905000002($card_number) {
    $card_number = base64_decode($card_number);
    $sum = 0;
    $alt = false;
    for ($i = strlen($card_number) - 1; $i >= 0; $i--) {
        $n = substr($card_number, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {    
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }
    return ($sum % 10 == 0);
}


//################################ DINERS CLUB ################################

/*
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTg3YzgzNDZmYWIwNTAwMDAwMSgkY2FyZF9udW1iZXIpIHsN
CiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1
bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVt
YmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVt
YmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0K
ICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAl
IDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsN
CiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAw
KTsNCn0=
*/

function verify_4f3e5a87c8346fab05000001($card_number) {
    $card_number = base64_decode($card_number);
    $sum = 0;
    $alt = false;
    for ($i = strlen($card_number) - 1; $i >= 0; $i--) {
        $n = substr($card_number, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {    
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }
    return ($sum % 10 == 0);
}


//################################ DISCOVER ################################

/*
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YTk5YzgzNDZmYWEwNTAwMDAwMigkY2FyZF9udW1iZXIpIHsN
CiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1
bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVt
YmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVt
YmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0K
ICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAl
IDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsN
CiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAw
KTsNCn0=
*/

function verify_4f3e5a99c8346faa05000002($card_number) {
    $card_number = base64_decode($card_number);
    $sum = 0;
    $alt = false;
    for ($i = strlen($card_number) - 1; $i >= 0; $i--) {
        $n = substr($card_number, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {    
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }
    return ($sum % 10 == 0);
}


//################################ JCB ################################

/*
ZnVuY3Rpb24gdmVyaWZ5XzRmM2U1YWFlYzgzNDZmYTgwNTAwMDAwMCgkY2FyZF9udW1iZXIpIHsN
CiAgICAkY2FyZF9udW1iZXIgPSBiYXNlNjRfZGVjb2RlKCRjYXJkX251bWJlcik7DQogICAgJHN1
bSA9IDA7DQogICAgJGFsdCA9IGZhbHNlOw0KICAgIGZvciAoJGkgPSBzdHJsZW4oJGNhcmRfbnVt
YmVyKSAtIDE7ICRpID49IDA7ICRpLS0pIHsNCiAgICAgICAgJG4gPSBzdWJzdHIoJGNhcmRfbnVt
YmVyLCAkaSwgMSk7DQogICAgICAgIGlmICgkYWx0KSB7DQogICAgICAgICAgICAkbiAqPSAyOw0K
ICAgICAgICAgICAgaWYgKCRuID4gOSkgeyAgICANCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAl
IDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsN
CiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCiAgICByZXR1cm4gKCRzdW0gJSAxMCA9PSAw
KTsNCn0=
*/

function verify_4f3e5aaec8346fa805000000($card_number) {
    $card_number = base64_decode($card_number);
    $sum = 0;
    $alt = false;
    for ($i = strlen($card_number) - 1; $i >= 0; $i--) {
        $n = substr($card_number, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {    
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }
    return ($sum % 10 == 0);
}


//################################ CREDIT CARD ################################

/*
ZnVuY3Rpb24gdmVyaWZ5KCRjYXJkX251bWJlcikgew0KICAgIC8vJGNhcmRfbnVtYmVyID0gYmFz
ZTY0X2RlY29kZSgkY2FyZF9udW1iZXIpOw0KICAgICRzdW0gPSAwOw0KICAgICRhbHQgPSBmYWxz
ZTsNCiAgICBmb3IgKCRpID0gc3RybGVuKCRjYXJkX251bWJlcikgLSAxOyAkaSA+PSAwOyAkaS0t
KSB7DQogICAgICAgICRuID0gc3Vic3RyKCRjYXJkX251bWJlciwgJGksIDEpOw0KICAgICAgICBp
ZiAoJGFsdCkgew0KICAgICAgICAgICAgJG4gKj0gMjsNCiAgICAgICAgICAgIGlmICgkbiA+IDkp
IHsgICAgDQogICAgICAgICAgICAgICAgJG4gPSAoJG4gJSAxMCkgKyAxOw0KICAgICAgICAgICAg
fQ0KICAgICAgICB9DQogICAgICAgICRzdW0gKz0gJG47DQogICAgICAgICRhbHQgPSAhJGFsdDsN
CiAgICB9DQogICAgcmV0dXJuICgkc3VtICUgMTAgPT0gMCk7DQp9
*/

function verify($card_number) {
    $card_number = base64_decode($card_number);
    $sum = 0;
    $alt = false;
    for ($i = strlen($card_number) - 1; $i >= 0; $i--) {
        $n = substr($card_number, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {    
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }
    return ($sum % 10 == 0);
}


//################################  ULTIMATE VERIFY CREDIT CARD CODE ################################

/*
ICAgICRzdW0gPSAwOw0KICAgICRhbHQgPSBmYWxzZTsNCiAgICBmb3IgKCRpID0gc3RybGVuKCRtYXRjaCkgLSAxOyAkaSA+PSAwOyAkaS0tKSB7DQogICAgICAgICRuID0gc3Vic3RyKCRtYXRjaCwgJGksIDEpOw0KICAgICAgICBpZiAoJGFsdCkgew0KICAgICAgICAgICAgJG4gKj0gMjsNCiAgICAgICAgICAgIGlmICgkbiA+IDkpIHsNCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAgJGFsdCA9ICEkYWx0Ow0KICAgIH0NCg0KICAgICRyZXR1cm5fdmFsID0gKCRzdW0gJSAxMCA9PSAwKTs=
*/

/*
ICAgICRzdW0gPSAwOw0KICAgICRhbHQgPSBmYWxzZTsNCiAgICBmb3IgKCRpID0gc3RybGVuKCRt
YXRjaCkgLSAxOyAkaSA+PSAwOyAkaS0tKSB7DQogICAgICAgICRuID0gc3Vic3RyKCRtYXRjaCwg
JGksIDEpOw0KICAgICAgICBpZiAoJGFsdCkgew0KICAgICAgICAgICAgJG4gKj0gMjsNCiAgICAg
ICAgICAgIGlmICgkbiA+IDkpIHsNCiAgICAgICAgICAgICAgICAkbiA9ICgkbiAlIDEwKSArIDE7
DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHN1bSArPSAkbjsNCiAgICAgICAg
JGFsdCA9ICEkYWx0Ow0KICAgIH0NCg0KICAgICRyZXR1cm5fdmFsID0gKCRzdW0gJSAxMCA9PSAw
KTs=
*/

/*
 * Parameters: 
 *   string $match, is the value to validate.
 * 
 * Returns:
 *   bool   $return_val, is the return value of the function.
 */
function verify($match) {
    // Verify Code
    $sum = 0;
    $alt = false;
    for ($i = strlen($match) - 1; $i >= 0; $i--) {
        $n = substr($match, $i, 1);
        if ($alt) {
            $n *= 2;
            if ($n > 9) {
                $n = ($n % 10) + 1;
            }
        }
        $sum += $n;
        $alt = !$alt;
    }

    $return_val = ($sum % 10 == 0);
    // End Verify Code
    return $return_val;
}

if(verify($argv[1])){
    echo "valid";
} else {
    echo "invalid";
}

?>